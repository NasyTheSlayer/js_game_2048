document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector(".game-field"),r=document.querySelector(".game-score"),n=document.querySelector(".start"),t=document.querySelector(".message-start"),a=document.querySelector(".message-lose"),o=document.querySelector(".message-win"),i=[],l=0,d=!1;function c(){i=[,,,,].fill(null).map(function(){return[,,,,].fill(null)}),l=0,r.innerText=l,d=!1,t.classList.remove("hidden"),a.classList.add("hidden"),u(),s()&&(d=!1,a.classList.remove("hidden"))}function s(){for(var e=0;e<4;e++)for(var r=0;r<4;r++)if(null===i[e][r]||r<3&&i[e][r]===i[e][r+1]||e<3&&i[e][r]===i[e+1][r])return!1;return!0}function f(){for(var e=[],r=0;r<4;r++)for(var n=0;n<4;n++)i[r][n]||e.push({row:r,col:n});if(e.length>0){var t=e[Math.floor(Math.random()*e.length)],a=t.row,o=t.col;i[a][o]=.9>Math.random()?2:4}}function u(){e.innerHTML="";for(var r=0;r<4;r++){for(var n=document.createElement("tr"),t=0;t<4;t++){var a=i[r][t],o=document.createElement("td");o.classList.add("field-cell"),a&&(o.textContent=a,o.classList.add("field-cell--".concat(a))),n.appendChild(o)}e.appendChild(n)}}document.addEventListener("keydown",function(){if(d){var e=!1;switch(event.key){case"ArrowLeft":e=function(){for(var e=!1,n=0;n<4;n++)for(var t=1;t<4;t++)if(i[n][t])for(var a=t;a>0;){if(i[n][a-1]){i[n][a-1]===i[n][a]&&(i[n][a-1]*=2,l+=i[n][a-1],i[n][a]=null,e=!0);break}i[n][a-1]=i[n][a],i[n][a]=null,a--,e=!0}return e&&(r.innerText=l,function(){for(var e=0;e<4;e++)for(var r=0;r<4;r++)if(2048===i[e][r])return!0;return!1}()&&(d=!1,o.classList.remove("hidden"))),e}();break;case"ArrowRight":e=function(){for(var e=!1,n=0;n<4;n++)for(var t=2;t>=0;t--)if(i[n][t])for(var a=t;a<3;){if(i[n][a+1]){i[n][a+1]===i[n][a]&&(i[n][a+1]*=2,l+=i[n][a+1],i[n][a]=null,e=!0);break}i[n][a+1]=i[n][a],i[n][a]=null,a++,e=!0}return e&&(r.innerText=l),e}();break;case"ArrowUp":e=function(){for(var e=!1,n=0;n<4;n++)for(var t=1;t<4;t++)if(i[t][n])for(var a=t;a>0;){if(i[a-1][n]){i[a-1][n]===i[a][n]&&(i[a-1][n]*=2,l+=i[a-1][n],i[a][n]=null,e=!0);break}i[a-1][n]=i[a][n],i[a][n]=null,a--,e=!0}return e&&(r.innerText=l),e}();break;case"ArrowDown":e=function(){for(var e=!1,n=0;n<4;n++)for(var t=2;t>=0;t--)if(i[t][n])for(var a=t;a<3;){if(i[a+1][n]){i[a+1][n]===i[a][n]&&(i[a+1][n]*=2,l+=i[a+1][n],i[a][n]=null,e=!0);break}i[a+1][n]=i[a][n],i[a][n]=null,a++,e=!0}return e&&(r.innerText=l),e}()}e&&(f(),u(),s()&&(d=!1,a.classList.remove("hidden")))}}),n.addEventListener("click",function(){c(),f(),f(),u(),d=!0,n.textContent="Restart",n.classList.add("restart"),t.classList.add("hidden"),a.classList.add("hidden"),o.classList.add("hidden")}),c()});
//# sourceMappingURL=index.a9d11942.js.map
